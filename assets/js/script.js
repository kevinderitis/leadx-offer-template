const productData = {
    "rating": {
        "stars": 4.5,
        "reviews": 1200,
        "text": "Basado en mÃ¡s de 1200 opiniones verificadas"
    },
    "title": {
        "first": "Piel mas bronceada",
        "second": "con o sin sol"
    },
    "product": {
        "name": "NUTRICOSMÃ‰TICO",
        "image": "assets/images/imagen1.jpeg",
        "trapText": "Vitaminas, aminoacidos, antioxidantes y carotenoides."
    },
    "bottom": {
        "solution": "Â¡La soluciÃ³n ideal para un bronceado perfecto y saludable!",
        "ideal": "Ideal para todo tipo de piel"
    },
    "features": [
        {
            "title": "BRONCEADO RÃPIDO",
            "description": "Resultados visibles en solo 7 dÃ­as de uso continuado"
        },
        {
            "title": "MÃXIMA SEGURIDAD",
            "description": "FormulaciÃ³n segura, sin exposiciÃ³n al sol"
        },
        {
            "title": "FÃ“RMULA NATURAL",
            "description": "Bronceado a base de ingredientes naturales"
        },
        {
            "title": "FÃCIL DE USAR",
            "description": "Solo una pastilla diaria para un bronceado uniforme"
        }
    ],
    "priceBox": {
        "header": "Â¡HacÃ© tu compra ahora y obtenÃ© un bronceado natural!",
        "discount": "Â¡50% DE DESCUENTO!",
        "originalPrice": "$415 pesos",
        "newPrice": "$207 pesos"
    },
    "order": {
        "offer": "Oferta: VÃ¡lida por tiempo limitado.",
        "stock": "Stock: Â¡Quedan solo 10 unidades!"
    },
    "efficiency": {
        "percentage": "75% mÃ¡s rÃ¡pido",
        "comparison": "que otros mÃ©todos de bronceado",
        "description": "Nude Bronceado te permite lograr el tono dorado de tu piel sin horas bajo el sol ni riesgos de quemaduras.",
        "image": "assets/images/imagen6.jpeg"
    },

    "negative": {
        "percentage": "âŒ DejÃ¡ de exponer tu piel al sol",
        "comparison": "con mÃ©todos tradicionales",
        "description": "Con Nude Bronceado olvidate de los daÃ±os causados por la exposiciÃ³n al sol. No mÃ¡s quemaduras ni envejecimiento prematuro de la piel.",
        "image": "assets/images/imagen3.jpeg"
    },
    "negativeFeatures": [
        {
            "title": "BRONCEADO RÃPIDO",
            "description": "Resultados visibles en solo 7 dÃ­as de uso continuado"
        },
        {
            "title": "MÃXIMA SEGURIDAD",
            "description": "FormulaciÃ³n segura, sin exposiciÃ³n al sol"
        },
        {
            "title": "FÃ“RMULA NATURAL",
            "description": "Bronceado a base de ingredientes naturales"
        },
        {
            "title": "FÃCIL DE USAR",
            "description": "Solo una pastilla diaria para un bronceado uniforme"
        }
    ],

    "featuresDark": {
        "title": {
            "main": "PequeÃ±o en TamaÃ±o",
            "highlight": "Grande en Bronceado"
        },
        "description": "Nude Bronceado combina comodidad y resultados rÃ¡pidos para obtener un tono dorado sin riesgos.",
        "features": [
            {
                "icon": "â˜€ï¸",
                "text": "Bronceado Natural y Duradero"
            },
            {
                "icon": "ðŸ’Š",
                "text": "Pastillas de FÃ¡cil Consumo"
            },
            {
                "icon": "ðŸŒ¿",
                "text": "Ingredientes 100% Naturales"
            },
            {
                "icon": "ðŸ’ª",
                "text": "Sin ExposiciÃ³n al Sol"
            },
            {
                "icon": "â±ï¸",
                "text": "Resultados RÃ¡pidos en 7 dÃ­as"
            },
            {
                "icon": "ðŸŒž",
                "text": "Bronceado Uniforme"
            }
        ]
    },
    "reviews": {
        "ratingDistribution": [
            { "stars": 5, "count": 900 },
            { "stars": 4, "count": 200 },
            { "stars": 3, "count": 50 },
            { "stars": 2, "count": 30 },
            { "stars": 1, "count": 20 }
        ],
        "userReviews": [
            {
                "name": "Erika",
                "rating": 5,
                "verified": true,
                "comment": "Una maravilla de producto, lo recomiendo, en muy poco tiempo logras resultados con la piel",
                "image": "assets/images/review3.jpeg"
            },
            {
                "name": "Andrea daniela",
                "rating": 5,
                "verified": true,
                "comment": "Totalmente recomendado! Segundo aÃ±o que lo compro y es increÃ­ble!",
                "image": "assets/images/review6.jpeg"
            },
            {
                "name": "Abel",
                "rating": 4,
                "verified": true,
                "comment": "Bueno el producto lo consumo hace varios aÃ±os , para mÃ­ es el mejor , mantiene un bronceado natural y se activa al tomar un poco de sol",
                "image": "assets/images/review7.jpeg"
            },
            {
                "name": "Javiera",
                "rating": 5,
                "verified": true,
                "comment": "Llevo 14 meses tomando las cÃ¡psulas Nude y de verdad que mi tono de piel mejorÃ³ un montÃ³n, aparte cuando me bronceo solo uso factor 50, jamÃ¡s bronceador y quedo cafÃ© dorada en muy poco tiempo. TambiÃ©n la calidad de mis uÃ±as mejorÃ³ mucho, y se fueron las manchas! 20/10",
                "image": "assets/images/review4.jpeg"
            }
        ]
    },
    "faq": {
        "items": [
            {
                "question": "Â¿Cuanto me duran los potes?",
                "answer": "Un pote de Nude Bronceado te dura 2 meses. En esta promociÃ³n te llevÃ¡s 3 potes que te alcanzarÃ¡n para 6 meses en total."
            },
            {
                "question": "Â¿Puedo tomarlo si tengo piel sensible?",
                "answer": "Si, Nude Bronceado es apto para todo tipo de piel, incluso las mÃ¡s sensibles."
            },
            {
                "question": "Â¿CuÃ¡nto tarda en llegar mi pedido?",
                "answer": "El tiempo de entrega es de 3-8 dias hÃ¡biles dependiendo de tu ubicaciÃ³n."
            },
            {
                "question": "Â¿El producto incluye garantÃ­a?",
                "answer": "SÃ­, todos nuestros productos incluyen garantÃ­a de 12 meses."
            },
            {
                "question": "Â¿Puedo recibir asesorÃ­a antes de realizar mi pedido?",
                "answer": "Â¡Por supuesto! Nuestro equipo de asesores estÃ¡ disponible para resolver todas tus dudas antes de la compra."
            }
        ]
    }
};

// const productData = {
//     "rating": {
//         "stars": 4.8,
//         "reviews": 1500,
//         "text": "Basado en mÃ¡s de 1500 opiniones verificadas"
//     },
//     "title": {
//         "first": "Tu casa y ambientes",
//         "second": "libres de mosquitos"
//     },
//     "product": {
//         "name": "PRODUCTO",
//         "image": "https://cdn3.pixelcut.app/7/20/uncrop_hero_bdf08a8ca6.jpg",
//         "trapText": "LA TRAMPA MÃS EFICIENTE PARA LOS MOSQUITOS"
//     },
//     "bottom": {
//         "solution": "Â¡La soluciÃ³n definitiva para disfrutar de un verano sin mosquitos!",
//         "ideal": "Ideal para interiores, patios y campings"
//     }
//     ,
//     "features": [
//         {
//             "title": "GRAN ALCANCE",
//             "description": "Limpia ambientes de hasta 50m2"
//         },
//         {
//             "title": "EFICAZ CONTRA INSECTOS",
//             "description": "Elimina de forma inmediata mosquitos y otros insectos voladores"
//         },
//         {
//             "title": "BATERÃA RECARGABLE",
//             "description": "Hasta 8 horas de uso continuo con una sola carga"
//         },
//         {
//             "title": "100% SANO: SIN HUMOS TÃ“XICOS",
//             "description": "No mas inhalaciÃ³n de humos daÃ±inos como los espirales"
//         }
//     ],
//     "priceBox": {
//         "header": "Â¡HacÃ© tu compra ahora y disfrutÃ¡ de un verano sin mosquitos!",
//         "discount": "Â¡50% DE DESCUENTO!",
//         "originalPrice": "$97.780",
//         "newPrice": "$48.890"
//     },
//     "order": {
//         "offer": "Oferta: VÃ¡lida por HOY.",
//         "stock": "Stock: Â¡Quedan solo 5 unidades!"
//     },
//     "efficiency": {
//         "percentage": "87% mÃ¡s eficiente",
//         "comparison": "que tabletas y espirales",
//         "description": "Zapper Pro cuenta con tecnologÃ­a de vanguardia que atrae a los mosquitos del ambiente y los mata. Simple, rÃ¡pido y seguro.",
//         "image": "https://cdn3.pixelcut.app/7/20/uncrop_hero_bdf08a8ca6.jpg"
//     },

//     "negative": {
//         "percentage": "âŒ DejÃ¡ de gastar e intoxicarte",
//         "comparison": "con espirales y tabletas",
//         "description": "Con Zapper Pro comprÃ¡s una vez y te olvidÃ¡s para siempre. No tenÃ©s que gastar todas las semanas como los espirales y tabletitas tradicionales. Tu familia y vos ya no van a respirar los tÃ³xicos espirales y tabletas. No mÃ¡s dolores de garganta ni intoxicaciones por inhalaciÃ³n de espirales.",
//         "image": "https://cdn3.pixelcut.app/7/20/uncrop_hero_bdf08a8ca6.jpg"
//     },
//     "negativeFeatures": [
//         {
//             "title": "GRAN ALCANCE",
//             "description": "Limpia ambientes de hasta 50m2"
//         },
//         {
//             "title": "EFICAZ CONTRA INSECTOS",
//             "description": "Elimina de forma inmediata mosquitos y otros insectos voladores"
//         },
//         {
//             "title": "BATERÃA RECARGABLE",
//             "description": "Hasta 8 horas de uso continuo con una sola carga"
//         },
//         {
//             "title": "100% SANO: SIN HUMOS TÃ“XICOS",
//             "description": "No mas inhalaciÃ³n de humos daÃ±inos como los espirales"
//         }
//     ],

//     "featuresDark": {
//         "title": {
//             "main": "PequeÃ±o en TamaÃ±o",
//             "highlight": "Grande en ProtecciÃ³n"
//         },
//         "description": "Zapper Pro combina diseÃ±o portÃ¡til y mÃ¡xima efectividad. Es el aliado ideal para mantener tus espacios libres de mosquitos y disfrutar de tranquilidad.",
//         "features": [
//             {
//                 "icon": "ðŸ¦Ÿ",
//                 "text": "Elimina Mosquitos al Instante"
//             },
//             {
//                 "icon": "ðŸ”‹",
//                 "text": "BaterÃ­a Recargable de Larga DuraciÃ³n"
//             },
//             {
//                 "icon": "ðŸ“±",
//                 "text": "Compacto y Ligero"
//             },
//             {
//                 "icon": "â™»ï¸",
//                 "text": "Seguro y EcolÃ³gico"
//             },
//             {
//                 "icon": "ðŸ‘†",
//                 "text": "FÃ¡cil de Usar"
//             },
//             {
//                 "icon": "ðŸ›¡ï¸",
//                 "text": "Material Resistente"
//             }
//         ]
//     },
//     "reviews": {
//         "ratingDistribution": [
//             { "stars": 5, "count": 1850 },
//             { "stars": 4, "count": 120 },
//             { "stars": 3, "count": 30 },
//             { "stars": 2, "count": 0 },
//             { "stars": 1, "count": 0 }
//         ],
//         "userReviews": [
//             {
//                 "name": "Alberto R.",
//                 "rating": 5,
//                 "verified": true,
//                 "comment": "Disfruto ver como los mosquitos caen en la trampa!! los odio con todo mi corazÃ³n. Lo recomiendo",
//                 "image": "https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-bO3OTzrQHZUbZRSlIlrz5AZUSF7TrP.png"
//             },
//             {
//                 "name": "Maria G.",
//                 "rating": 5,
//                 "verified": true,
//                 "comment": "Muy recomendable tengo uno en la habitaciÃ³n de mis chicos y una en el living"
//             },
//             {
//                 "name": "Juan P.",
//                 "rating": 5,
//                 "verified": true,
//                 "comment": "Excelente producto, funciona muy bien y el servicio de entrega fue rÃ¡pido"
//             },
//             {
//                 "name": "Laura M.",
//                 "rating": 4,
//                 "verified": true,
//                 "comment": "Buen producto, cumple con lo prometido. La baterÃ­a dura bastante"
//             }
//         ]
//     },
//     "faq": {
//         "items": [
//             {
//                 "question": "Â¿CÃ³mo puedo pedir Zapper Pro?",
//                 "answer": "LlenÃ¡ el formulario con tus datos. Un asesor te contactarÃ¡ para confirmar tu pedido y coordinar la entrega. Â¡PagÃ¡s al recibir!"
//             },
//             {
//                 "question": "Â¿Puedo pagar a contraentrega?",
//                 "answer": "Â¡SÃ­! Aceptamos pago contra entrega en efectivo. TambiÃ©n puedes pagar con tarjeta o transferencia bancaria."
//             },
//             {
//                 "question": "Â¿CuÃ¡nto tarda en llegar mi pedido?",
//                 "answer": "El tiempo de entrega es de 24-48 horas hÃ¡biles dependiendo de tu ubicaciÃ³n."
//             },
//             {
//                 "question": "Â¿El producto incluye garantÃ­a?",
//                 "answer": "SÃ­, todos nuestros productos incluyen garantÃ­a de 12 meses por defectos de fabricaciÃ³n."
//             },
//             {
//                 "question": "Â¿Puedo recibir asesorÃ­a antes de realizar mi pedido?",
//                 "answer": "Â¡Por supuesto! Nuestro equipo de asesores estÃ¡ disponible para resolver todas tus dudas antes de la compra."
//             }
//         ]
//     }
// };

document.addEventListener('DOMContentLoaded', () => {

    document.querySelector('.zapper-text').textContent = productData.product.name;

    // Set rating and reviews
    document.querySelector('.rating-text').textContent = productData.rating.text;

    // Set title
    const title = document.querySelector('.product-header h1');
    title.innerHTML = `<span>${productData.title.first}</span><br>${productData.title.second}`;

    // Set product image
    document.querySelector('.product-image').src = productData.product.image;

    // Set trap text
    document.querySelector('.trap-text').textContent = productData.product.trapText;

    // Set bottom section texts
    document.querySelector('.solution-text p').textContent = productData.bottom.solution;
    document.querySelector('.ideal-text').textContent = productData.bottom.ideal;

    // Previous content loading remains unchanged

    // Load features
    const featureItems = document.querySelectorAll('.feature-item');
    featureItems.forEach((item, index) => {
        const feature = productData.features[index];
        item.querySelector('h3').textContent = feature.title;
        item.querySelector('p').textContent = feature.description;
    });

    // Load price box
    document.querySelector('.price-box-header').textContent = productData.priceBox.header;
    document.querySelector('.discount-text').textContent = productData.priceBox.discount;
    document.querySelector('.original-price').textContent = productData.priceBox.originalPrice;
    document.querySelector('.new-price').textContent = productData.priceBox.newPrice;

    // Load order section
    document.querySelector('.offer-text').textContent = productData.order.offer;
    document.querySelector('.stock-text span:last-child').textContent = productData.order.stock;

    const efficiencyTitle = document.querySelector('.efficiency-title strong');
    efficiencyTitle.textContent = productData.efficiency.percentage;
    efficiencyTitle.insertAdjacentText('afterend', ` ${productData.efficiency.comparison}`);

    document.querySelector('.efficiency-description').textContent = productData.efficiency.description;
    document.querySelector('.efficiency-image').src = productData.efficiency.image;

    const negativeTitle = document.querySelector('.negative-title strong');
    negativeTitle.textContent = productData.negative.percentage;
    negativeTitle.insertAdjacentText('afterend', ` ${productData.negative.comparison}`);

    document.querySelector('.negative-description').textContent = productData.negative.description;
    document.querySelector('.negative-image').src = productData.negative.image;

    const negativeFeatureItems = document.querySelectorAll('.negative-feature-item');
    negativeFeatureItems.forEach((item, index) => {
        const feature = productData.negativeFeatures[index];
        item.querySelector('h3').textContent = feature.title;
        item.querySelector('p').textContent = feature.description;
    });

    const darkTitle = document.querySelector('.features-dark-title h2');
    darkTitle.querySelector('span:first-child').textContent = productData.featuresDark.title.main;
    darkTitle.querySelector('.highlight').textContent = productData.featuresDark.title.highlight;

    document.querySelector('.features-dark-description').textContent = productData.featuresDark.description;

    const featuresGrid = document.querySelector('.features-dark-grid');
    productData.featuresDark.features.forEach(feature => {
        const item = document.createElement('div');
        item.className = 'features-dark-item';
        item.innerHTML = `
        <div class="features-dark-icon">
            <span>${feature.icon}</span>
        </div>
        <span>${feature.text}</span>
    `;
        featuresGrid.appendChild(item);
    });

    const ratingBars = document.querySelector('.rating-bars');
    const maxCount = Math.max(...productData.reviews.ratingDistribution.map(r => r.count));

    productData.reviews.ratingDistribution.forEach(rating => {
        const percentage = (rating.count / maxCount) * 100;
        const barItem = document.createElement('div');
        barItem.className = 'rating-bar-item';
        barItem.innerHTML = `
        <div class="rating-bar-stars">${'â˜…'.repeat(rating.stars)}${'â˜†'.repeat(5 - rating.stars)}</div>
        <div class="rating-bar-track">
            <div class="rating-bar-fill" style="width: ${percentage}%"></div>
        </div>
        <div class="rating-count">${rating.count}</div>
    `;
        ratingBars.appendChild(barItem);
    });

    // Load reviews
    const reviewsList = document.querySelector('.reviews-list');
    productData.reviews.userReviews.forEach(review => {
        const reviewCard = document.createElement('div');
        reviewCard.className = 'review-card';
        reviewCard.innerHTML = `
        <div class="review-header">
            <div class="review-user">${review.name}</div>
            ${review.verified ? '<div class="verified-badge">Comprador Verificado</div>' : ''}
        </div>
        <div class="stars">${'â˜…'.repeat(review.rating)}${'â˜†'.repeat(5 - review.rating)}</div>
        ${review.image ? `<img src="${review.image}" alt="Review image" class="review-image">` : ''}
        <p class="review-text">${review.comment}</p>
    `;
        reviewsList.appendChild(reviewCard);
    });

    const faqList = document.querySelector('.faq-list');
    productData.faq.items.forEach((item, index) => {
        const faqItem = document.createElement('div');
        faqItem.className = 'faq-item';
        faqItem.innerHTML = `
        <div class="faq-question ${index === 0 ? 'active' : ''}">
            ${item.question}
            <div class="faq-toggle"></div>
        </div>
        <div class="faq-answer">
            <div class="faq-answer-content">${item.answer}</div>
        </div>
    `;
        faqList.appendChild(faqItem);

        const question = faqItem.querySelector('.faq-question');
        question.addEventListener('click', () => {
            const wasActive = question.classList.contains('active');

            // Close all other questions
            document.querySelectorAll('.faq-question').forEach(q => {
                q.classList.remove('active');
            });

            // Toggle current question
            if (!wasActive) {
                question.classList.add('active');
            }
        });
    });

    document.querySelector('.order-original-price').textContent = productData.priceBox.originalPrice;
    document.querySelector('.order-new-price').textContent = productData.priceBox.newPrice;
});

function handleSubmit(event) {
    event.preventDefault(); 
    const url = 'https://secure.promoslatam2025.shop/?offer=1127&uid=0193b647-fbf3-706c-83eb-0961598572d6'; 
    window.open(url, '_blank'); 
    return false;
}

// Add input validation for phone numbers
document.getElementById('phone').addEventListener('input', function (e) {
    e.target.value = e.target.value.replace(/[^0-9]/g, '');
});